<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GUILHERME GIACOMO SIMOES</title>
    <link rel="stylesheet" href="simoes.css">
</head>
<body>
	  <header class="navbar">
  	  	<nav>
  	  	  <ul class="nav-links">
  	  	    <li><a href="index.html">‚áê index</a></li>
  	  	    <li><a href="linuxchanges.html">Linux</a></li>
  	  	    <li><a href="freertoschanges.html">FreeRTOS</a></li>
  	  	    <li><a href="posts.html">Posts</a></li>
			<li class="right-links">
		        <ul>
		          <li><a href="https://github.com/guilhermegiacomosimoes">Github</a></li>
		          <li><a href="https://www.linkedin.com/in/guilhermegiacomosimoes/">Linkedin</a></li>
		        </ul>
			</li>
  	  	  </ul>
  	  	</nav>
  	</header>
	<br><br><br>

	<h1>Introduce authors key</h1>
	<hr>
	<h2>Why this change should be doing</h2>
	When do you want to see details around a module you can type `modinfo mod_name` in your terminal emulator, for example:
	<pre>
modinfo videodev
	</pre>
	The `videodev` is a module in my kernel. You can see your list module by type `lsmod` in your terminal emulator.<br>
	The result of command below is:
	<pre>
filename:       /lib/modules/6.12.10-76061203-generic/kernel/drivers/media/v4l2-core/videodev.ko.zst
alias:          char-major-81-*
license:        GPL
description:    Video4Linux2 core driver
author:         Alan Cox, Mauro Carvalho Chehab &ltmchehab@kernel.org&gt, Bill Dirks, Justin Schoeman, Gerd Knorr
srcversion:     D31C5C48A5C141F967FD307
depends:        mc
intree:         Y
name:           videodev
retpoline:      Y
vermagic:       6.12.10-76061203-generic SMP preempt mod_unload modversions 
sig_id:         PKCS#7
signer:         Build time autogenerated kernel key
sig_key:        7C:F2:DE:AA:8C:34:CD:88:3A:EF:B5:F3:A1:7A:A8:56:8A:34:2D:98
sig_hashalgo:   sha512
	</pre>
	<br>
	Well, you can see the "author" field, this is a array of module authors.<br>
	You can type `modinfo --author mod_name` for only see the authors:
	<pre>
modinfo --author videodev
	</pre>
	The result of this is:
	<pre>
Alan Cox, Mauro Carvalho Chehab &ltmchehab@kernel.org&lt, Bill Dirks, Justin Schoeman, Gerd Knorr
	</pre>
	<br>
	This authors, obviusly is the author of this module/driver that is write in C.<br>
	When do you wirte a new module in C, you can inform the module authors using the `MODULE_AUTHOR()` macro. If you need more than one author, you can repeat the `MODULE_AUTHOR()` macro.<br>
	In the follow I make available a example:
	<pre>
#include &ltlinux/init.h&gt
#include &ltlinux/module.h&gt
#include &ltlinux/kernel.h&gt

MODULE_AUTHOR("FIRST AUTHOR &ltyour_email@email.com&gt");
MODULE_AUTHOR("SECOND AUTHOR &ltyour_email@email.com&gt");

MODULE_DESCRIPTION("description of module");
MODULE_LICENSE("GPL");

static int __init hello_world_init(void)
{
	pr_info("Hello World\n");
	return 0;
}

static void __exit hello_world_exit(void)
{
	pr_info("bye bye\n");
}

module_init(hello_world_init);
module_exit(hello_world_exit);
	</pre>
	<br><br>
	Whell, this is in the C side of kernel.<br>
	But, in the <a href="https://github.com/torvalds/linux/blob/master/rust/macros/module.rs">module macro</a> (on Rust side of kernel) the `author` field is currrently of type `String`. Since modules can have multiple arthors, this limitations prevents specifying more than one in the Rust modules, so, a change on this is need to be doing.<br><br>

	<h2>My proposed solution</h2>
	Change the module! macro in <a href="https://github.com/torvalds/linux/blob/master/rust/macros/module.rs">module.rs</a> for accept a new key called `authors`. This `authors` have type `Option&ltVec&ltString&gt&gt` to allow creating modules with multiple authors. Is needed change the documentations and all current modules that use a `author`field od <a href="https://github.com/torvalds/linux/blob/master/rust/macros/module.rs">module.rs</a>.<br>
	The <a href="https://github.com/ojeda">Miguel Ojeda</a> was suggest maintain the `author` field in `module!` macro. Eventually, the single `author` field may be removed.<br>
	The diff of my change is:
	<pre>
diff --git a/drivers/block/rnull.rs b/drivers/block/rnull.rs
index ddf3629d8894..d07e76ae2c13 100644
--- a/drivers/block/rnull.rs
+++ b/drivers/block/rnull.rs
@@ -27,7 +27,7 @@
 module! {
     type: NullBlkModule,
     name: "rnull_mod",
-    author: "Andreas Hindborg",
+    authors: ["Andreas Hindborg"],
     description: "Rust implementation of the C null block driver",
     license: "GPL v2",
 }
diff --git a/drivers/net/phy/ax88796b_rust.rs b/drivers/net/phy/ax88796b_rust.rs
index 8c7eb009d9fc..bc73ebccc2aa 100644
--- a/drivers/net/phy/ax88796b_rust.rs
+++ b/drivers/net/phy/ax88796b_rust.rs
@@ -19,7 +19,7 @@
         DeviceId::new_with_driver::&ltPhyAX88796B&gt()
     ],
     name: "rust_asix_phy",
-    author: "FUJITA Tomonori &ltfujita.tomonori@gmail.com&gt",
+    authors: ["FUJITA Tomonori &ltfujita.tomonori@gmail.com&gt"],
     description: "Rust Asix PHYs driver",
     license: "GPL",
 }
diff --git a/drivers/net/phy/qt2025.rs b/drivers/net/phy/qt2025.rs
index 1ab065798175..520daeb42089 100644
--- a/drivers/net/phy/qt2025.rs
+++ b/drivers/net/phy/qt2025.rs
@@ -26,7 +26,7 @@
         phy::DeviceId::new_with_driver::&ltPhyQT2025&gt(),
     ],
     name: "qt2025_phy",
-    author: "FUJITA Tomonori &ltfujita.tomonori@gmail.com&gt",
+    authors: ["FUJITA Tomonori &ltfujita.tomonori@gmail.com&gt"],
     description: "AMCC QT2025 PHY driver",
     license: "GPL",
     firmware: ["qt2025-2.0.3.3.fw"],
diff --git a/rust/kernel/net/phy.rs b/rust/kernel/net/phy.rs
index bb654a28dab3..a59469c785e3 100644
--- a/rust/kernel/net/phy.rs
+++ b/rust/kernel/net/phy.rs
@@ -790,7 +790,7 @@ const fn as_int(&self) -&gt u32 {
 ///         DeviceId::new_with_driver::&ltPhySample&gt()
 ///     ],
 ///     name: "rust_sample_phy",
-///     author: "Rust for Linux Contributors",
+///     authors: ["Rust for Linux Contributors"],
 ///     description: "Rust sample PHYs driver",
 ///     license: "GPL",
 /// }
@@ -819,7 +819,7 @@ const fn as_int(&self) -&gt u32 {
 /// module! {
 ///     type: Module,
 ///     name: "rust_sample_phy",
-///     author: "Rust for Linux Contributors",
+///     authors: ["Rust for Linux Contributors"],
 ///     description: "Rust sample PHYs driver",
 ///     license: "GPL",
 /// }
diff --git a/rust/kernel/pci.rs b/rust/kernel/pci.rs
index 4c98b5b9aa1e..f7b2743828ae 100644
--- a/rust/kernel/pci.rs
+++ b/rust/kernel/pci.rs
@@ -103,7 +103,7 @@ extern "C" fn remove_callback(pdev: *mut bindings::pci_dev) {
 /// kernel::module_pci_driver! {
 ///     type: MyDriver,
 ///     name: "Module name",
-///     author: "Author name",
+///     authors: ["Author name"],
 ///     description: "Description",
 ///     license: "GPL v2",
 /// }
diff --git a/rust/kernel/platform.rs b/rust/kernel/platform.rs
index 50e6b0421813..1297f5292ba9 100644
--- a/rust/kernel/platform.rs
+++ b/rust/kernel/platform.rs
@@ -101,7 +101,7 @@ fn of_id_table() -&gt Option&ltof::IdTable&ltSelf::IdInfo&gt&gt {
 /// kernel::module_platform_driver! {
 ///     type: MyDriver,
 ///     name: "Module name",
-///     author: "Author name",
+///     authors: ["Author name"],
 ///     description: "Description",
 ///     license: "GPL v2",
 /// }
diff --git a/rust/macros/lib.rs b/rust/macros/lib.rs
index d61bc6a56425..7ce1cb891dfb 100644
--- a/rust/macros/lib.rs
+++ b/rust/macros/lib.rs
@@ -36,7 +36,7 @@
 /// module!{
 ///     type: MyModule,
 ///     name: "my_kernel_module",
-///     author: "Rust for Linux Contributors",
+///     authors: ["Rust for Linux Contributors"],
 ///     description: "My very own kernel module!",
 ///     license: "GPL",
 ///     alias: ["alternate_module_name"],
@@ -69,7 +69,7 @@
 /// module!{
 ///     type: MyDeviceDriverModule,
 ///     name: "my_device_driver_module",
-///     author: "Rust for Linux Contributors",
+///     authors: ["Rust for Linux Contributors"],
 ///     description: "My device driver requires firmware",
 ///     license: "GPL",
 ///     firmware: ["my_device_firmware1.bin", "my_device_firmware2.bin"],
@@ -88,7 +88,7 @@
 /// # Supported argument types
 ///   - `type`: type which implements the [`Module`] trait (required).
 ///   - `name`: ASCII string literal of the name of the kernel module (required).
-///   - `author`: string literal of the author of the kernel module.
+///   - `authors`: array of ASCII string literals of the authors of the kernel module.
 ///   - `description`: string literal of the description of the kernel module.
 ///   - `license`: ASCII string literal of the license of the kernel module (required).
 ///   - `alias`: array of ASCII string literals of the alias names of the kernel module.
diff --git a/rust/macros/module.rs b/rust/macros/module.rs
index cdf94f4982df..db16f0af0855 100644
--- a/rust/macros/module.rs
+++ b/rust/macros/module.rs
@@ -94,7 +94,7 @@ struct ModuleInfo {
     type_: String,
     license: String,
     name: String,
-    author: Option&ltString&gt,
+    authors: Option&ltVec&ltString&gt&gt,
     description: Option&ltString&gt,
     alias: Option&ltVec&ltString&gt&gt,
     firmware: Option&ltVec&ltString&gt&gt,
@@ -107,7 +107,7 @@ fn parse(it: &mut token_stream::IntoIter) -&gt Self {
         const EXPECTED_KEYS: &[&str] = &[
             "type",
             "name",
-            "author",
+            "authors",
             "description",
             "license",
             "alias",
@@ -135,7 +135,7 @@ fn parse(it: &mut token_stream::IntoIter) -&gt Self {
             match key.as_str() {
                 "type" =&gt info.type_ = expect_ident(it),
                 "name" =&gt info.name = expect_string_ascii(it),
-                "author" =&gt info.author = Some(expect_string(it)),
+                "authors" =&gt info.authors = Some(expect_string_array(it)),
                 "description" =&gt info.description = Some(expect_string(it)),
                 "license" =&gt info.license = expect_string_ascii(it),
                 "alias" =&gt info.alias = Some(expect_string_array(it)),
@@ -183,8 +183,10 @@ pub(crate) fn module(ts: TokenStream) -&gt TokenStream {
     let info = ModuleInfo::parse(&mut it);
 
     let mut modinfo = ModInfoBuilder::new(info.name.as_ref());
-    if let Some(author) = info.author {
-        modinfo.emit("author", &author);
+    if let Some(authors) = info.authors {
+        for author in authors {
+            modinfo.emit("authors", &author);
+        }
     }
     if let Some(description) = info.description {
         modinfo.emit("description", &description);
diff --git a/samples/rust/rust_driver_faux.rs b/samples/rust/rust_driver_faux.rs
index 048c6cb98b29..378bab4b587d 100644
--- a/samples/rust/rust_driver_faux.rs
+++ b/samples/rust/rust_driver_faux.rs
@@ -7,7 +7,7 @@
 module! {
     type: SampleModule,
     name: "rust_faux_driver",
-    author: "Lyude Paul",
+    authors: ["Lyude Paul"],
     description: "Rust faux device sample",
     license: "GPL",
 }
diff --git a/samples/rust/rust_driver_pci.rs b/samples/rust/rust_driver_pci.rs
index 1fb6e44f3395..364a0660a743 100644
--- a/samples/rust/rust_driver_pci.rs
+++ b/samples/rust/rust_driver_pci.rs
@@ -104,7 +104,7 @@ fn drop(&mut self) {
 kernel::module_pci_driver! {
     type: SampleDriver,
     name: "rust_driver_pci",
-    author: "Danilo Krummrich",
+    authors: ["Danilo Krummrich"],
     description: "Rust PCI driver",
     license: "GPL v2",
 }
diff --git a/samples/rust/rust_driver_platform.rs b/samples/rust/rust_driver_platform.rs
index 8120609e2940..f7a0f1b29d1d 100644
--- a/samples/rust/rust_driver_platform.rs
+++ b/samples/rust/rust_driver_platform.rs
@@ -43,7 +43,7 @@ fn drop(&mut self) {
 kernel::module_platform_driver! {
     type: SampleDriver,
     name: "rust_driver_platform",
-    author: "Danilo Krummrich",
+    authors: ["Danilo Krummrich"],
     description: "Rust Platform driver",
     license: "GPL v2",
 }
diff --git a/samples/rust/rust_minimal.rs b/samples/rust/rust_minimal.rs
index 4aaf117bf8e3..1fc7a1be6b6d 100644
--- a/samples/rust/rust_minimal.rs
+++ b/samples/rust/rust_minimal.rs
@@ -7,7 +7,7 @@
 module! {
     type: RustMinimal,
     name: "rust_minimal",
-    author: "Rust for Linux Contributors",
+    authors: ["Rust for Linux Contributors"],
     description: "Rust minimal sample",
     license: "GPL",
 }
diff --git a/samples/rust/rust_misc_device.rs b/samples/rust/rust_misc_device.rs
index 40ad7266c225..d3785e7c0330 100644
--- a/samples/rust/rust_misc_device.rs
+++ b/samples/rust/rust_misc_device.rs
@@ -116,7 +116,7 @@
 module! {
     type: RustMiscDeviceModule,
     name: "rust_misc_device",
-    author: "Lee Jones",
+    authors: ["Lee Jones"],
     description: "Rust misc device sample",
     license: "GPL",
 }
diff --git a/samples/rust/rust_print_main.rs b/samples/rust/rust_print_main.rs
index 7e8af5f176a3..8ea95e8c2f36 100644
--- a/samples/rust/rust_print_main.rs
+++ b/samples/rust/rust_print_main.rs
@@ -8,7 +8,7 @@
 module! {
     type: RustPrint,
     name: "rust_print",
-    author: "Rust for Linux Contributors",
+    authors: ["Rust for Linux Contributors"],
     description: "Rust printing macros sample",
     license: "GPL",
 }
	</pre><br>

	Now, the modules in the rust side on kernel accept multiples authors.

	<h2>Links</h2>
	<a href="https://lore.kernel.org/all/20250309175712.845622-2-trintaeoitogc@gmail.com/">- lkml</a><br>
	<a href="https://github.com/torvalds/linux/commit/38559da6afb239e271e709588babe7f98195096b">- github commit</a>
</body>
